{
  "project_id": "test-groq-apisix",
  "project_name": "Test Groq APISIX Integration",
  "owner": "test-team",
  "environment": "test",
  "modules": [
    {
      "module_type": "inference_endpoint",
      "name": "groq-llm-service",
      "dependencies": ["groq-apisix-gateway"],
      "config": {
        "apisix_route": "groq-route",
        "apisix_gateway_module": "groq-apisix-gateway",
        "model_name": "llama-3.1-8b-instant",
        "system_prompt": "You are a helpful AI assistant powered by Groq.",
        "max_tokens": 2048,
        "temperature": 0.7
      }
    },
    {
      "module_type": "api_gateway",
      "name": "groq-apisix-gateway",
      "config": {
        "admin_api_url": "http://localhost:9180",
        "admin_key": "edd1c9f034335f136f87ad84b625c8f1",
        "gateway_url": "http://localhost:9080",
        "dashboard_url": "http://localhost:9000",
        "routes": [
          {
            "name": "groq-route",
            "uri": "/groq/chat/*",
            "methods": [
              "POST"
            ],
            "upstream_id": "groq-upstream",
            "service_id": null,
            "plugins": [
              {
                "name": "proxy-rewrite",
                "enabled": true,
                "config": {
                  "uri": "/openai/v1/chat/completions",
                  "scheme": "https"
                },
                "priority": null
              },
              {
                "name": "ai-proxy",
                "enabled": true,
                "config": {
                  "provider": "openai-compatible",
                  "auth": {
                    "header": {
                      "Authorization": "Bearer <API_KEY>"
                    }
                  },
                  "options": {
                    "model": "llama-3.1-8b-instant"
                  },
                  "override": {
                    "endpoint": "https://api.groq.com/openai/v1/chat/completions"
                  }
                },
                "priority": null
              }
            ],
            "host": null,
            "priority": 0,
            "vars": null
          }
        ],
        "upstreams": [
          {
            "name": "groq-upstream",
            "type": "roundrobin",
            "nodes": {
              "api.groq.com:443": 1
            },
            "timeout": {
              "connect": 10,
              "send": 30,
              "read": 60
            },
            "retries": 2,
            "health_check": null
          }
        ],
        "global_plugins": [
          {
            "name": "cors",
            "enabled": true,
            "config": {
              "allow_origins": "*",
              "allow_methods": "GET, POST, PUT, DELETE, OPTIONS",
              "allow_headers": "*",
              "max_age": 3600
            },
            "priority": null
          }
        ],
        "jwt_auth_enabled": false,
        "rate_limiting_enabled": false,
        "logging_enabled": true,
        "prometheus_enabled": false,
        "ssl_enabled": false,
        "ssl_cert": null,
        "ssl_key": null,
        "cors_enabled": true,
        "cors_origins": [
          "*"
        ],
        "cors_methods": [
          "GET",
          "POST",
          "PUT",
          "DELETE",
          "OPTIONS"
        ],
        "default_timeout": 60,
        "default_retries": 2,
        "streaming_enabled": true,
        "response_buffering": false,
        "request_buffering": true
      }
    }
  ]
}